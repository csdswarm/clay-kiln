@import "_global/mixins";
@import "_global/fonts";
@import "_global/colors";

.component--latest-recirc {
	position: relative;
	margin-bottom: em(50);
	z-index: 0;
  padding: 0 em(15) em(15);

  &.component--empty {
    display: none;
  }

  @define-mixin latest-recirc-box $color {
  	outline: em(1,16) solid $color;
  }
  @mixin latest-recirc-box $purple;
  &.component--music {
  	@mixin latest-recirc-box $sunsetOrange;
  }
  &.component--news {
  	@mixin latest-recirc-box $lightningYellow;
  }
  &.component--sports {
  	@mixin latest-recirc-box $azureRadience;
  }
  &.component--podcasts {
  	@mixin latest-recirc-box $robinsEggBlue;
  }
  &.component--tag {
  	@mixin latest-recirc-box $purple;
  }
  &.component--station {
  	@mixin latest-recirc-box $parisM;
  }

  &.component--column {
    outline: none;
    padding: 0;
  }
}
.latest-recirc {
	&__title {
		@mixin latest-recirc-font1 $purple;
		.component--music & {
			@mixin latest-recirc-font1 $sunsetOrange;
		}
		.component--news & {
			@mixin latest-recirc-font1 $lightningYellow;
		}
		.component--sports & {
			@mixin latest-recirc-font1 $azureRadience;
		}
		.component--podcasts & {
			@mixin latest-recirc-font1 $robinsEggBlue;
		}
		.component--tag & {
			@mixin latest-recirc-font1 $purple;
		}
		.component--station & {
			@mixin latest-recirc-font1 $parisM;
		}
		padding: 0 em(5);
		background: $white;
		z-index: 1;
		display: inline-block;
		position: relative;
		max-width: 100%;
		margin-bottom: em(1);
		top: em(-9);
		.title {
			text-transform: uppercase;
		}
	}
	&__links {
		width: 100%;
		position: relative;
		z-index: 0;
		li {
			&:not(:last-of-type) {
				margin-bottom: em(20);

        .component--column & {
          @mixin medium-small-screen {
            margin-bottom: em(30);
          }
        }
			}
			height: em(70);
			cursor: pointer;

      .component--column & {
        height: em(140);

        @mixin medium-screen {
          height: em(125);
        }

        @mixin medium-small-screen {
          height: em(115);
        }

        @mixin small-screen {
          height: em(85);
        }
      }
			a {
				height: 100%;
				display: flex;
				text-decoration: none;
				text-transform: capitalize;
				.link__thumb {
					height: 100%;
          flex: 0 0 em(70);
					margin-right: em(15);
					background-size: cover;
					background-position: center;

          .component--column & {
            flex-basis: em(140);

            @mixin medium-screen {
              flex-basis: em(222);
            }

            @mixin medium-small-screen {
              flex-basis: em(115);
            }

            @mixin small-screen {
              flex-basis: em(85);
            }
          }
				}
        .link__content {
          display: flex;
          flex-direction: column;
          justify-content: center;
          flex: 1;
        }
        .link__label {
          @mixin latest-recirc-font4;
          margin-bottom: em(6, 12);

          @mixin medium-screen {
            order: 2;
            margin-top: em(4, 12);
          }
        }
        .link__date {
          display: none;
          color: $dustyGray;
          margin-left: em(10);

          @mixin medium-screen {
            display: inline;
          }
        }
				.link__headline {
					@mixin latest-recirc-font2;
          max-width: em(185, 14);
          max-height: em(54, 14);
          overflow: hidden;
          /* modern browsers */
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;

          .component--column & {
            @mixin latest-recirc-font3;
            -webkit-line-clamp: 5;
            max-height: em(90, 14);
            max-width: none;

            @mixin medium-screen {
              @mixin latest-recirc-font5;
            }

            @mixin medium-small-screen {
              -webkit-line-clamp: 3;
              max-height: em(72, 16);
            }
          }

          /* backup using fade */
          html.no-line-clamp & {
            position: relative;
            &:after {
              content: "";
              text-align: right;
              position: absolute;
              bottom: 0;
              right: 0;
              width: 70%;
              height: 1.2em;
              background: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 1) 90%);
            }
          }
				}
			}
		}
	}
}

.kiln-edit-mode .component--latest-recirc.component--empty {
  display: block;
}
