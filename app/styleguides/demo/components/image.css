@import "_global/fonts";
@import "_global/colors";

.component--image {
  @mixin article-font10;
  position: relative;
  clear: both;
  width: 100%;
  height: auto;
  margin: 0 0 em(30, 12) 0;
  &.image-enlarge {
    &.zoomed {
      img {
        cursor: zoom-out !important;
        position: inherit;
      }
      figcaption {
        visibility: hidden;
      }
    }
    img {
      cursor: zoom-in;
      transform-origin: center;
      transition: transform .3s cubic-bezier(.42, 0, .58, 1);
    }
  }
  &.square-medium,
  &.thumb,
  &.vertical-small {
    float: left;
    margin: em(5, 12) em(15, 12) em(5, 12) 0;
    max-width: em(107, 12);
    z-index: 2;
  }
  &.flex-small {
    background-color: #fff;
    border-bottom: em(1, 12) solid #ccc;
    border-top: em(1, 12) solid #ccc;
    left: em(-20, 12);
    margin: em(2, 12) 0 em(18, 12);
    padding: em(20, 12) 0 em(5, 12);
    right: em(-20, 12);
    z-index: 2;
    .image-wrapper {
      margin-left: em(-20, 12);
      margin-right: em(-20, 12);
    }
  }
  &.flex-large {
    clear: both;
    left: em(-20, 12);
    margin: em(20, 12) 0 em(21, 12);
    max-width: em(1024, 12);
    width: calc(100% + em(40, 12));
    &.image-borders {
      border-bottom: em(1, 12) solid #ccc;
      border-top: em(1, 12) solid #ccc;
      margin: em(4, 12) 0 em(18, 12);
      padding: em(18, 12) 0 em(5, 12);
    }
  }
  &.full-bleed {
    clear: both;
    left: em(-20, 12);
    margin: em(5, 12) 0 em(18, 12);
    max-width: none;
    width: calc(100% + em(40, 12));
    &.image-borders {
      border-bottom: em(1, 12) solid #ccc;
      border-top: em(1, 12) solid #ccc;
      margin: em(3, 12) 0 em(18, 12);
      padding: em(20, 12) 0 em(5, 12);
    }
  }
  &.flex-small .image-figcaption,
  &.flex-large.image-borders .image-figcaption,
  &.full-bleed.image-borders .image-figcaption {
    padding: em(4, 12) em(20, 12) em(10, 12);
  }
  &.horizontal {
    clear: both;
    left: 0;
    width: 100%;
    img {
      width: 100%;
      height: auto;
    }
  }
  a {
    text-decoration: none;
  }
  .image-wrapper {
    position: relative;
  }
  .img-data {
    width: 100%;
  }
  .img-link {
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    width: 100%;
  }
  .img-link-cta {
    font-family: GeorgiaProCondSemiBold, Georgia, serif;
    font-size: em(13, 16);
    border-radius: em(3, 13);
    display: inline-block;
    font-weight: 700;
    position: absolute;
    text-align: center;
    text-transform: uppercase;
    transition: background .2s, border .2s;
    background: rgba(17, 17, 17, .8);
    border: em(1, 13) solid #111;
    color: #fff;
    padding: em(12, 13) em(30, 13) em(10, 13);
    &:hover {
      background: #103cbc;
      border: em(1, 13) solid #999;
    }
    .img-link-cta-text {
      vertical-align: middle;
    }
    svg {
      display: inline-block;
      height: em(20);
      margin-left: em(5);
      position: relative;
      top: em(-2);
      vertical-align: middle;
      width: em(20);
    }
  }
  .img-figure {
    display: block;
    margin: 0;
  }
  .image-figcaption {
    @mixin article-font10;
    margin: em(10, 12) 0 0 0;
    text-align: left;
    width: 100%;
    .credit {
      @mixin article-font11;
      a,
      a:active,
      a:hover,
      a:visited {
        color: inherit;
        text-decoration: none;
      }
    }
    .buffer {
      margin-right: em(2);
    }
  }
}
.media-image-overlay {
  background-color: #fff;
  display: table;
  height: 110vh;
  left: 0;
  opacity: 0;
  position: fixed;
  top: 0;
  transition: opacity .3s cubic-bezier(.42, 0, .58, 1);
  width: 100%;
  z-index: -1;
  &.show-shade {
    opacity: 1;
  }
}
@media screen and (min-width:1024px) {
  .component--image {
    &.thumb {
      max-width: em(188, 12);
      min-width: em(146, 12);
    }
    &.square-medium {
      width: em(190, 12);
    }
    &.vertical-small {
      max-width: em(245, 12);
    }
    &.horizontal .img-link-cta {
      bottom: em(18, 12);
    }
    &.flex-small {
      float: left;
      left: 0;
      margin: em(8, 12) em(30, 12) em(30, 12) em(-134, 12);
      max-width: em(426, 12);
      padding: em(22, 12) 0 em(10, 12);
      .image-wrapper {
        margin: 0;
      }
      .image-figcaption {
        margin-bottom: em(10, 12);
      }
    }
    &.flex-large {
      left: 0;
      margin: em(20, 12) 0 em(21, 12) em(-134, 12);
      width: calc(100% + em(134, 12));
      &.image-borders {
        margin: em(8, 12) 0 em(23, 12);
        padding: em(22, 12) 0 em(4, 12);
        .image-figcaption {
          margin: em(8, 12) 0 em(15, 12);
        }
      }
    }
    &.full-bleed {
      left: 0;
      margin: em(5, 12) 0 em(18, 12) calc((100vw - em(756, 12)) / -2);
      width: calc((100vw - em(756, 12)) / 2 + em(536, 12));
      &.image-borders {
        margin: em(8, 12) 0 em(24, 12);
        padding: em(22, 12) 0 em(8, 12);
        .image-figcaption {
          margin: em(8, 12) 0 em(10, 12);
        }
      }
    }
  }
  .one-column-layout {
    .component--image {
      &.flex-small {
        margin: em(10, 12) em(40, 12) em(10, 12) em(-134, 12);
      }
      &.flex-large {
        margin: em(20, 12) calc((em(1024, 12) - em(670, 12)) / -2) em(21, 12);
        width: em(1024, 12);
        &.image-borders {
          margin-top: em(8, 12);
        }
      }
      &.full-bleed {
        margin: em(5, 12) calc((100vw - em(670, 12)) / -2) em(18, 12);
        width: 100vw;
        &.image-borders {
          margin: em(8, 12) calc((100vw - em(670, 12)) / -2) em(24, 12);
        }
      }
    }
  }
}
@media screen and (min-width:0) and (max-width:1023.9px) {
  .component--image.vertical-small .img-link-cta svg {
    display: none;
  }
}
@media screen and (min-width:600px) and (max-width:1023.9px) {
  .component--image.horizontal .image-figcaption {
    width: calc(100% - em(80, 12));
  }
}
@media screen and (min-width:600px) {
  .component--image {
    .image-figcaption {
      margin: em(5, 12) 0 0;
      padding: 0;
    }
    &.horizontal {
      left: 0;
      width: 100%;
      .img-link-cta {
        right: em(15, 13);
      }
    }
    &.square-medium,
    &.thumb,
    &.vertical-small {
      margin: em(5, 12) em(20, 12) em(10, 12) 0;
      max-width: em(215, 12);
    }
    &.vertical-small .img-link-cta {
      bottom: em(15, 13);
      left: em(15, 13);
      right: em(15, 13);
    }
    &.flex-small {
      margin: em(4, 12) em(30, 12) em(10, 12) 0;
      padding: em(22, 12) 0 em(4, 12);
      right: 0;
      width: calc(100% + em(40, 12));
      .image-wrapper {
        margin-left: 0;
        margin-right: 0;
      }
      .image-figcaption {
        margin-bottom: em(13, 12);
        padding: 0;
      }
    }
    &.flex .img-link-cta,
    &.flex-large .img-link-cta {
      right: em(15, 13);
      top: em(15, 13);
    }
    &.flex-large {
      &.image-borders {
        margin-top: em(4, 12);
        padding: em(20, 12) 0 em(5, 12);
        .image-figcaption {
          margin-bottom: em(12, 12);
          padding: 0;
        }
      }
      figcaption {
        margin-bottom: em(10, 12);
      }
    }
    &.full-bleed.image-borders {
      padding: em(22, 12) 0 em(5, 12);
      .image-figcaption {
        margin-bottom: em(14, 12);
        padding: 0;
      }
    }
  }
}
@media screen and (min-width:0) and (max-width:599.9px) {
  .component--image {
    &.square-medium .image-figcaption,
    &.thumb .image-figcaption,
    &.vertical-small .image-figcaption {
      padding: em(4, 12) 0 0;
    }
    &.vertical-small .img-link-cta {
      background: #111;
      border: em(1, 13) solid #111;
      border-radius: em(3, 13);
      bottom: em(8, 13);
      font-family: Arial, sans-serif;
      font-size: em(11, 13);
      font-weight: 700;
      padding: em(7, 13) 0 em(6, 13);
      width: 100%;
    }
    &.horizontal .img-link-cta {
      background: #111;
      border: em(1, 13) solid #111;
      border-radius: em(3, 13);
      bottom: em(15, 13);
      font-family: Arial, sans-serif;
      font-weight: 700;
      left: em(12, 13);
    }
    &.flex .img-link-cta,
    &.flex-large .img-link-cta {
      background: #111;
      border: em(1, 13) solid #111;
      border-radius: em(3, 13);
      font-family: Arial, sans-serif;
      font-weight: 700;
      top: 0;
      width: 100%;
    }
  }
}
@media print {
  .component--image {
    display: block;
    margin: em(16, 12) auto em(20, 12);
    max-width: 80%;
    width: 80%;
    &.flex-large,
    &.horizontal {
      left: 0;
      margin: em(5, 12) auto em(21, 12);
      width: 80%;
    }
    .img-link {
      display: none;
    }
    .image-figcaption {
      width: 80%;
      .caption {
        color: #353535;
      }
    }
  }
}

.kiln-overlay-form {

  .advanced-image-upload {

    .attached-image {
      width: 100%;
    }

    .kiln-placeholder {
      min-height: 25px;
      cursor: default;
    }

    .web-file-container {
      display: inline-flex;
      width: 100%;
      margin: 0 0 16px 0;
    }
    
    .web-file-text-input {
      display: flex;
      width: 80%;
    }
    
    .web-file-done-button {
      display: flex;
      width: 20%;
      padding: 20px;
    }

  }

}