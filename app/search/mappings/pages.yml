settings:
  analysis:
    filter:
      my_ascii_folding:
        type: asciifolding
        preserve_original: 'true'
    char_filter:
      remove_whitespace:
        pattern: "\\s+"
        type: pattern_replace
        replacement: "-"
      remove_punctuation:
        pattern: "[.,/#!$%\\^&\\*;:{}=\\-_`~()']"
        type: pattern_replace
        replacement: ''
    normalizer:
      lowercase:
        filter:
          - lowercase
        type: custom
    analyzer:
      station_analyzer:
        filter:
          - standard
          - my_ascii_folding
          - lowercase
        char_filter:
          - remove_whitespace
          - remove_punctuation
        tokenizer: standard
      stdEnglish:
        type: standard
        stopwords: _english_

_doc:
  properties:
    _dynamic:
      type: boolean
    archived:
      type: boolean
    authors:
      type: text
      fields:
        english:
          type: text
          analyzer: stdEnglish
      analyzer: standard
    createdAt:
      type: date
    firstPublishTime:
      type: date
    head:
      type: text
      fields:
        keyword:
          type: keyword
          ignore_above: 256
    history:
      type: nested
      properties:
        action:
          type: keyword
        timestamp:
          type: date
        users:
          type: nested
          properties:
            auth:
              type: keyword
            imageUrl:
              type: keyword
            name:
              type: keyword
            provider:
              type: keyword
            username:
              type: keyword
    layout:
      type: text
      fields:
        keyword:
          type: keyword
          ignore_above: 256
    layoutHeader:
      type: text
      fields:
        keyword:
          type: keyword
          ignore_above: 256
    main:
      type: text
      fields:
        keyword:
          type: keyword
          ignore_above: 256
    pageHeader:
      type: text
      fields:
        keyword:
          type: keyword
          ignore_above: 256
    publishTime:
      type: date
    published:
      type: boolean
    scheduled:
      type: boolean
    scheduledTime:
      type: date
    shouldPatchArchive:
      type: boolean
    siteSlug:
      type: keyword
    stationSlug:
      type: keyword
      normalizer: lowercase
    stationSyndication:
      type: nested
      properties:
        callsign:
          type: keyword
          fields:
            normalized:
              type: text
              analyzer: station_analyzer
        importer:
          type: boolean
        secondarySectionFront:
          type: keyword
        sectionFront:
          type: keyword
        slug:
          type: text
          fields:
            keyword:
              type: keyword
              ignore_above: 256
        source:
          type: keyword
        stationName:
          type: text
          fields:
            keyword:
              type: keyword
              ignore_above: 256
        stationSlug:
          type: keyword
        syndicatedArticleSlug:
          type: text
        unsubscribed:
          type: boolean
    tertiary:
      type: text
      fields:
        keyword:
          type: keyword
          ignore_above: 256
    title:
      type: text
      analyzer: stdEnglish
    titleTruncated:
      type: keyword
    updateTime:
      type: date
    uri:
      type: keyword
    url:
      type: keyword
    urlHistory:
      type: text
    users:
      type: nested
      properties:
        auth:
          type: keyword
        imageUrl:
          type: keyword
        name:
          type: keyword
        provider:
          type: keyword
        updateTime:
          type: date
        username:
          type: keyword
