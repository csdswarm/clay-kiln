_version: 10.0
_confirmRemoval: true

primaryHeadline:
  _label: Facebook Headline
  _has:
    input: wysiwyg
    buttons:
      - italic
      - strike
    validate:
      required: true
      max: 280
    help: Write your most shareable headline
    attachedButton:
      name: magic-button
      component: gallery
      store: components
      property: headline
      tooltip: Use Gallery Headline
shortHeadline:
  _label: Twitter/Short Headline
  _has:
    input: wysiwyg
    buttons:
      - italic
      - strike
    validate:
      required: true
      max: 140
    help: Also used for Related Stories and some homepages
    attachedButton:
      name: magic-button
      field: primaryHeadline
      tooltip: Use Facebook Headline
teaser:
  _label: Teaser
  _subscribe: galleryTeaser
  _has:
    input: wysiwyg
    buttons:
      - italic
      - strike
    validate:
      required: true
      max: 150
    help: Appears in feeds and newsletters
# this is the headline that displays on the gallery itself
headline:
  _label: Headline
  _subscribe: galleryHeadline
  _placeholder:
    height: 40px
    text: Headline
    required: true
  _has:
    input: inline
    buttons:
      - italic
      - strike
    validate:
      required: true
    help: Appears as gallery title
subHeadline:
  _label: Sub Headline
  _subscribe: gallerySubHeadline
  _placeholder:
    height: 40px
    text: Sub Headline
    required: true
  _has:
    input: inline
    buttons:
      - italic
      - strike
    validate:
      required: false
    help: Appears under gallery title
seoHeadline:
  _label: SEO Headline
  _has:
    input: text
    help: Focus on the keywords/phrases for search traffic. Also used for the page title and the slug
    validate:
      max: 60
      required: true
seoDescription:
  _label: SEO Description
  _has:
    input: text
    type: multi-line
    help: Focus on the keywords/phrases for search traffic. Try to get as close as possible to 200 characters
    validate:
      required: true
feedImgUrl:
  _label: Recirculation Image
  _publish: feedImgUrl
  help: Focus on the keywords/phrases for search traffic. Also used for the page title and the slug
  _has:
    input: advanced-image-upload
    webLabel: Insert Image via Web
    webHelp: Supply a valid HTTPS url to an image file then click "done" button
    uploadLabel: Upload Image Attachment
    uploadHelp: Choose an image file from your computer
    validate:
      required: true
slug:
  _label: Slug
  _has:
    input: text
    validate:
      required: true
    attachedButton:
      name: magic-button
      component: gallery
      transform: getComponentInstance
      url: $SITE_PREFIX
      property: shortHeadline
      moreMagic:
        - transform: toSlug
      tooltip: Generate from Short Headline
byline:
  _label: Byline
  _subscribe: authorBylines
  _has:
    input: complex-list
    props:
      -
        prop: names
        _label: Names
        _has:
          help: Press TAB or , after each name to save
          input: simple-list
          autocomplete:
            list: authors
            allowRemove: true
            allowCreate: true
      -
        prop: sources
        _label: Sources
        _has:
          input: simple-list
          autocomplete:
            list: sources
            allowRemove: true
            allowCreate: true
      -
        prop: prefix
        _label: Prefix
        _has:
          input: radio
          options:
            - by
            - as told to
authors:
  _label: Authors
  _publish: authors
  _has:
    help: An Array of Objects containing author names (without byline prefixes), for search.
sources:
  _label: Sources
  _publish: sources
  _has:
    help: An Array of Objects containing sources names for search.
stationLogoUrl:
  _has:
    input: advanced-image-upload
    webLabel: Station Logo via Web
    webHelp: Supply a valid HTTPS url to an image file then click "done" button
    uploadLabel: Upload Image Attachment
    uploadHelp: Choose an image file from your computer
    help: LOGO of the station
    validate:
      required:
        field: stationURL
        operator: truthy
stationURL:
  _label: Station URL
  _has:
    input: text
    type: url
    validate:
      required:
        field: stationLogoUrl
        operator: truthy
      # Using pattern from https://www.regextester.com/93652
      # Detailed RegEx breakdown: https://regex101.com/r/uh84QI/1
      pattern: ^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$
      patternMessage: Must be a valid URL
    help: URL of the station
hasSecondaryBylines:
  _label: Use Secondary Bylines
  _has: checkbox
secondaryAttribution:
  _label: Secondary Bylines
  _has:
    input: simple-list
    autocomplete:
      list: authors
      allowRemove: true
secondaryBylineText:
  _label: Text for Secondary Bylines
  _has:
    input: text
    help: Text that appears before secondary bylines
# note: date used to use datetime-local, which was deprecated in kiln 5.0
# users edit the published date from the galleryDate and galleryTime fields
date:
  _label: Published Date
  _publish: publishDate
  _has:
    help: Date that is generated from the galleryDate and galleryTime fields
galleryDate:
  _label: First Published Date
  _has:
    input: datepicker
    help: Custom published date, if it should be different than the actual date the gallery was first published
galleryTime:
  _label: First Published Time
  _has:
    input: timepicker
    help: Custom published time
dateUpdated:
  _label: Display Updated Date
  _has:
    input: checkbox
    help: Display "Updated On" in the gallery with the latest published date
lead:
  _label: Gallery Lead
  _placeholder:
    text: Gallery Lead
    height: 600px
  _componentList:
    fuzzy: false # allows interactives, etc to add one-off components
    include:
      - image
      - instagram-post
      - brightcove
      - youtube
      - html-embed
      - omny
      - verizon-media
    validate:
      max: 1
      required: true
content:
  _label: Gallery Content
  _placeholder:
    text: Gallery Content
    height: 600px
  _componentList:
    fuzzy: true # allows interactives, etc to add one-off components
    include:
      - paragraph
      - subheader
      - inline-related
slides:
  _label: Add slides to gallery
  _componentList:
    include:
      - gallery-slide
totalSlides:
  _publish: totalSlides
slidesNumbered:
  _label: Number the slides
  _publish: slidesNumbered
  _has: checkbox
reverseOrder:
  _label: Reverse number order of slides? (Count down eg -- 5, 4, 3...)
  _publish: reverseOrder
  _has: checkbox
  _reveal:
    field: slidesNumbered
    operator: ===
    value: true
includeInlineAds:
  _label: Break up slides with inline ads
  _has: checkbox
inlineAd:
  _component:
    include:
      - google-ad-manager
rightRailStickyAd:
  _component:
    include:
      - google-ad-manager
sectionFront:
  _label: Section Front
  _publish: sectionFront
  _has:
    input: select
    search: true
    list: primary-section-fronts
    validate:
      required: true
secondarySectionFront:
  _label: Secondary Section Front
  _publish: secondarySectionFront
  _has:
    input: select
    search: true
    list: secondary-section-fronts
contentType:
  _label: Content Type
  _publish: contentType
  _has:
    input: static
    text: ${contentType}
showSocial:
  _label: Display Social Handle
  _has:
    input: checkbox
    help: Author social handles are displayed by default. Unchecking this will hide handles on this gallery
rubric:
  _label: Rubric
  _subscribe: rubric
  _has:
    help: Feature Rubric is set by the tags component
syndicationStatus:
  _label: Syndication Status
  _has:
    input: radio
    options:
      - original
      - syndicated
syndicatedUrl:
  _label: Syndicated URL
  _publish: syndicatedUrl
  _has:
    input: text
    help: Canonical URL (If different than the publish URL)
    validate:
      required:
        field: syndicationStatus
        operator: ===
        value: syndicated
      # Using pattern from https://www.regextester.com/93652
      # Detailed RegEx breakdown: https://regex101.com/r/uh84QI/1
      pattern: ^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$
      patternMessage: Must be a valid URL
featured:
  _label: Is this a featured gallery?
  _has: checkbox
editorialFeeds:
  _label: Gallery Terms for Editorial Feeds
  _has:
    input: select
    multiple: true
    search: true
    list: freq_editorial_feeds
    help: Select all editorial feeds terms for syndication
corporateSyndication:
  _label: Syndicate to corporate website(s)
  _has:
    input: select
    multiple: true
    search: true
    list: corporate_websites
    help: Select all corporate websites for syndication
stationSyndication:
  _label: Syndicate to station(s)
  _has:
    input: station-select
genreSyndication:
  _label: Syndicate to genre(s)
  _has:
    input: genre-select

accessoryText:
  _label: Text below excerpt in channel view
  _has:
    input: text
    help: The text to include below the article excerpt in the channel view, such as a byline or category label.
isCandidateToBeFeatured:
  _label: Should be featured in Apple News feed?
  _has:
    input: checkbox
    help: A Boolean that indicates whether this article should be considered for featuring in News.
isHidden:
  _label: Hidden from displaying in Apple News feed?
  _has:
    input: checkbox
    help: A Boolean that indicates whether the article should be temporarily hidden from display in the News feed.
isSponsored:
  _label: Is this a sponsored post?
  _has:
    input: checkbox
    help: A Boolean that indicates whether this article consists of sponsored content for promotional purposes. Sponsored content must be marked as such; channels that do not follow this policy may be suspended.

_groups:
  publishedDate:
    fields:
      - galleryDate
      - galleryTime
      - dateUpdated
    _placeholder:
      text: Custom Published Date
      height: 30px
      ifEmpty: galleryDate or galleryTime
  secondaryBylines:
    fields:
      - secondaryBylineText
      - secondaryAttribution
    _placeholder:
      text: Secondary Bylines
      height: 60px
      ifEmpty: secondaryAttribution
  stationSource:
    fields:
      - stationTitle
      - stationURL
    _placeholder:
      text: Station Source
      height: 30px
      ifEmpty: stationTitle
  circFeeds:
    fields:
      - feedImgUrl
  circHeadlines:
    fields:
      - primaryHeadline
      - shortHeadline
      - teaser
      - seoHeadline
      - seoDescription
  circSlug:
    fields:
      - slug
      - evergreenSlug
  circMetadata:
    fields:
      - sectionFront
      - secondarySectionFront
  bylinesAndStationLogo:
    fields:
    - byline
    - stationLogoUrl
    - stationURL
    _placeholder:
      text: Byline and Station Logo
      height: 60px
      ifEmpty: byline.names and byline.sources and stationLogoUrl
  slidesSettings:
    fields:
      - slidesNumbered
      - reverseOrder
      - includeInlineAds
      - toggleEditorCondensedSlidesView
  settings:
    fields:
      - showSocial
      - hasSecondaryBylines
      - sectionFront
      - slidesNumbered (Gallery Slides)
      - reverseOrder (Gallery Slides)
      - includeInlineAds (Gallery Slides)
      - apContent
      - noIndexNoFollow
  syndication:
    fields:
      - featured
      - editorialFeeds
      - corporateSyndication
      - stationSyndication
      - genreSyndication
      - syndicationStatus
      - syndicatedUrl
  appleNews:
    fields:
      - accessoryText
      - isCandidateToBeFeatured
      - isHidden
      - isSponsored

# non-user-editable fields, set by model.js and used for pubsub
eligibleForGoogleStandout:
  _has:
    help: Is this gallery eligible for the Google Standout tag
canBeMarkedGoogleStandout:
  _has:
    help: Can this gallery be marked as Google Standout.
rollingStandoutCount:
  _has:
    help: Rolling 7 day count of how many galleries have been marked Standout on this domain.
canonicalUrl:
  _publish: url
  _has:
    help: Canonical URL of an gallery. Set when the gallery publishes.
pageDescription:
  _publish: pageDescription
  _has:
    help: Plaintext description for search engines, set by seoDescription or teaser.
socialDescription:
  _publish: socialDescription
  _has:
    help: Plaintext description for social media, set by teaser.
pageTitle:
  _publish: pageTitle
  _has:
    help: Plaintext page title, set by seoHeadline, shortHeadline, or primaryHeadline. Sponsored posts and certain sites will have extra sugar.
plaintextPrimaryHeadline:
  _publish:
    - ogTitle
    - pageListTitle
  _has:
    help: Plaintext title set by primaryHeadline. Used for facebook sharing.
plaintextShortHeadline:
  _publish: twitterTitle
  _has:
    help: Plaintext title set by shortHeadline. Used for twitter sharing, and some feeds.
footer:
  _label: Gallery Footer
  _placeholder:
    text: Component
    height: 200px
  _componentList:
    fuzzy: true
    include:
      - paragraph
      - image
      - instagram-post
      - brightcove
      - youtube
      - html-embed
      - omny
    validate:
      max: 2

# Component properties
contentPageSponsorLogo:
  _component:
    include:
      - google-ad-manager

sideShare:
  _component:
    include:
      - share
tags:
  _component:
    include:
      - tags
adTags:
  _component:
    include:
      - ad-tags

apContent:
  _label: [No Index / No Follow is always ON for AP]
  _has: static
  _reveal:
    field: isContentFromAP
    operator: ===
    value: true

noIndexNoFollow:
  _publish: noIndexNoFollow
  _label: No Index / No Follow
  _has: checkbox
  _reveal:
    field: isContentFromAP
    operator: ===
    value: false

# toggle editing condensed list view
toggleEditorCondensedSlidesView:
  _label: Condensed Slide View On
  _has: checkbox
