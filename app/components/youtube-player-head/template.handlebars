<!-- data-uri="{{ default _ref _self }}" -->
{{#unless @root.locals.edit}}
  {{! NYM flags for `video-player` component instances
    player instances will first look for `nymYTApiReady` to be `true`
    if `false`, player instances will listen for the event `clay-youtube-event:youtube-api-ready` }}
  <script>
    var nymYTApiReady = false;

    window.onYouTubeIframeAPIReady = function () {
      {{! when the YouTube API script is ready, dispatch an `clay-youtube-event:youtube-api-ready` event }}
      var nymEventYTApiReady = new Event('clay-youtube-event:youtube-api-ready');

      document.dispatchEvent(nymEventYTApiReady);

      {{! change this flag to 'true' when the YouTube api is ready }}
      nymYTApiReady = true;
    }
  </script>

  {{! add the YouTube API script to the head for fastest player creation }}
  <script type="text/javascript" src="https://www.youtube.com/iframe_api"></script>
{{/unless}}
