{{ set 'uniquePlayerID' (randomString 'youtube-player-') }}
{{#ifAny @root.locals.edit videoValid}}
<div data-uri="{{ default _ref _self }}" class="component component--youtube{{if @root.locals.edit ' edit-mode'}}{{#ifAny (compare videoType 'Related') (compare videoType 'Sponsored')}} site-accents{{/ifAny}}{{ if playerBorderTop ' border-top' }}{{ if playerBorderBottom ' border-bottom' }}"
     data-element-id="{{ uniquePlayerID }}"
     data-content-id="{{ contentId }}"
     data-is-playlist="{{ isPlaylist }}"
     data-autoplay-next-video="{{ autoPlayNextVideo }}"
     data-autoplay-video="{{ autoPlay }}"
     data-playlist="{{ videoPlaylist }}"
     data-track-video-type="{{ videoType }}"
     data-track-video-location="{{ videoLocation }}"
     data-track-video-title="{{ videoTitle }}"
     data-track-video-duration="{{ videoDuration }}"
     data-track-channel-name="{{ channelName }}"
     data-editable="inline"
     data-origsrc="{{ origSource }}">
  {{#if playerBorderTopCTA }}
    <style>
      .youtube[data-uri="{{ default _ref _self }}"].border-top:before {
        content: '{{ playerBorderTopCTA }}';
      }
    </style>
  {{/if}}
  {{#ifAll playerHeadline (compare videoType 'Related')}}
    <h2 class="youtube-headline">{{ playerHeadline }}</h2>
  {{/ifAll}}

  <div class="player-wrapper">
    {{#unless @root.locals.edit}}
      <div class="player">
        {{!-- The <iframe> (and video player) will replace this <div> tag. --}}
        <div id="{{ uniquePlayerID }}"></div>
      </div>
    {{else}}
      <div class="kiln-placeholder" style="min-height: 20px; margin-bottom: 20px;">
        <div class="placeholder-label">
          <span class="placeholder-text">Youtube {{if playlist "Playlist" "Video"}} ID: {{ video }}{{ playlist }}</span>
        </div>
      </div>
    {{/unless}}
  </div>

  {{#if playerCaption}}
    <p class="youtube-caption">{{ playerCaption }}</p>
  {{/if}}
</div>
{{/ifAny}}
